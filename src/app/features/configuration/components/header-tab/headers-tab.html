<div class="flex flex-col gap-3">
  @for (header of headers(); let i = $index; track i) {
    <div class="flex items-center gap-2">
      <input
        hlmInput
        class="flex-1"
        placeholder="Name"
        [ngModel]="header.name"
        (ngModelChange)="updateHeaderName(i, $event)"
      />
      <input
        hlmInput
        class="flex-1"
        placeholder="Value"
        [ngModel]="header.value"
        (ngModelChange)="updateHeaderValue(i, $event)"
      />
      <button
        hlmBtn
        size="icon"
        variant="destructive"
        (click)="removeHeader(i)"
        aria-label="Remove header"
      >
        <lucide-icon name="trash-2" size="20"></lucide-icon>
      </button>
    </div>
  }

  <button hlmBtn variant="secondary" (click)="addHeader()" class="mt-2 w-full">
    <lucide-icon name="plus" size="20" class="mr-1"></lucide-icon>
    Add Header
  </button>
</div>
